2025-05-28 09:51:52.437 +03:00 [ERR] An error occurred using the connection to database 'InvenTrack' on server 'tcp://localhost:5432'.
2025-05-28 09:51:53.493 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-28 09:51:53.506 +03:00 [INF] Applying migration '20250528065136_Initial'.
2025-05-28 09:52:09.134 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-28 09:52:09.168 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:52:09.169 +03:00 [INF] Hosting environment: Development
2025-05-28 09:52:09.169 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-28 09:52:13.973 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/ - null null
2025-05-28 09:52:14.079 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:52:14.111 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/ - 404 0 null 140.3768ms
2025-05-28 09:52:14.145 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/, Response status code: 404
2025-05-28 09:52:20.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger - null null
2025-05-28 09:52:20.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger - 301 0 null 20.8461ms
2025-05-28 09:52:20.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/index.html - null null
2025-05-28 09:52:20.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/index.html - 200 null text/html;charset=utf-8 97.2812ms
2025-05-28 09:52:20.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui.css - null null
2025-05-28 09:52:20.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/index.css - null null
2025-05-28 09:52:20.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-bundle.js - null null
2025-05-28 09:52:20.439 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-standalone-preset.js - null null
2025-05-28 09:52:20.439 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/index.js - null null
2025-05-28 09:52:20.456 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/index.js - 200 null application/javascript;charset=utf-8 16.7961ms
2025-05-28 09:52:20.462 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-05-28 09:52:20.476 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-28 09:52:20.476 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-28 09:52:20.477 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/index.css - 200 202 text/css 38.7017ms
2025-05-28 09:52:20.541 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-28 09:52:20.556 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 116.6444ms
2025-05-28 09:52:20.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui.css - 200 154949 text/css 141.5687ms
2025-05-28 09:52:20.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-bundle.js - 200 1484234 text/javascript 135.7385ms
2025-05-28 09:52:20.786 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-28 09:52:20.899 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/favicon-32x32.png - null null
2025-05-28 09:52:20.907 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-28 09:52:20.914 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/favicon-32x32.png - 200 628 image/png 14.98ms
2025-05-28 09:52:20.983 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.714ms
2025-05-28 09:53:37.940 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Position - application/json 25
2025-05-28 09:53:37.990 +03:00 [INF] Executing endpoint 'Web.Controller.PositionController.Create (Web)'
2025-05-28 09:53:38.061 +03:00 [INF] Route matched with {action = "Create", controller = "Position"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.PositionDto.AddPositionDto) on controller Web.Controller.PositionController (Web).
2025-05-28 09:53:41.435 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:53:41.454 +03:00 [INF] Executed action Web.Controller.PositionController.Create (Web) in 3385.1747ms
2025-05-28 09:53:41.456 +03:00 [INF] Executed endpoint 'Web.Controller.PositionController.Create (Web)'
2025-05-28 09:53:41.466 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Position - 200 null application/json; charset=utf-8 3527.5021ms
2025-05-28 09:53:49.735 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - application/json 96
2025-05-28 09:53:49.739 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-28 09:53:49.746 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-28 09:53:49.929 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Employees
    ConstraintName: FK_Employees_SubDepartments_SubDepartmentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Employees
    ConstraintName: FK_Employees_SubDepartments_SubDepartmentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 09:53:49.947 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-28 09:53:49.948 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:53:49.949 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 201.498ms
2025-05-28 09:53:49.950 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-28 09:53:49.951 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 216.0847ms
2025-05-28 09:55:08.823 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 37
2025-05-28 09:55:08.847 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 09:55:08.899 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-28 09:55:09.105 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 09:55:09.119 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-28 09:55:09.122 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:55:09.126 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 226.2758ms
2025-05-28 09:55:09.128 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 09:55:09.129 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 314.9206ms
2025-05-28 10:00:20.030 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - application/json 99
2025-05-28 10:00:20.064 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-28 10:00:20.081 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:00:20.448 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:00:20.451 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 368.667ms
2025-05-28 10:00:20.452 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-28 10:00:20.454 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 431.0242ms
2025-05-28 10:01:09.791 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 38
2025-05-28 10:01:09.795 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:01:09.796 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:01:09.852 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 10:01:09.868 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-28 10:01:09.869 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:01:09.870 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 71.5848ms
2025-05-28 10:01:09.872 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:01:09.873 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 81.7659ms
2025-05-28 10:01:17.635 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 37
2025-05-28 10:01:17.637 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:01:17.638 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:01:17.755 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-28 10:01:17.886 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 240.1543ms
2025-05-28 10:01:17.887 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:01:17.888 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 400 null application/problem+json; charset=utf-8 253.5082ms
2025-05-28 10:01:32.999 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 37
2025-05-28 10:01:33.007 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:01:33.027 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:01:33.045 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 10:01:33.064 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-28 10:01:33.065 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:01:33.065 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 33.0679ms
2025-05-28 10:01:33.066 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:01:33.067 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 67.5673ms
2025-05-28 10:16:44.865 +03:00 [INF] Application is shutting down...
2025-05-28 10:18:08.111 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-28 10:18:08.154 +03:00 [INF] Applying migration '20250528071754_Initial2'.
2025-05-28 10:18:21.189 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-28 10:18:21.222 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 10:18:21.223 +03:00 [INF] Hosting environment: Development
2025-05-28 10:18:21.223 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-28 10:18:26.277 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-28 10:18:26.424 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.4625ms
2025-05-28 10:18:30.564 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 10:18:30.611 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 10:18:30.614 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:18:30.640 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:18:32.561 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:18:32.631 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 1986.2921ms
2025-05-28 10:18:32.634 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:18:32.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 2075.6453ms
2025-05-28 10:18:47.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-28 10:18:47.997 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:18:48.012 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:18:48.062 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-28 10:18:48.223 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:18:48.244 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 229.1084ms
2025-05-28 10:18:48.245 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:18:48.246 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 253.2991ms
2025-05-28 10:19:36.199 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5093/api/Employee/2 - application/json 106
2025-05-28 10:19:36.201 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Update (Web)'
2025-05-28 10:19:36.206 +03:00 [INF] Route matched with {action = "Update", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Update(Int32, Domain.Dtos.EmployeeDto.UpdateEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:19:36.482 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Employees
    ConstraintName: FK_Employees_SubDepartments_SubDepartmentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_SubDepartments_SubDepartmentId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Employees
    ConstraintName: FK_Employees_SubDepartments_SubDepartmentId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 10:19:36.499 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-28 10:19:36.500 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:19:36.502 +03:00 [INF] Executed action Web.Controller.EmployeeController.Update (Web) in 293.871ms
2025-05-28 10:19:36.504 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Update (Web)'
2025-05-28 10:19:36.504 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5093/api/Employee/2 - 200 null application/json; charset=utf-8 305.2924ms
2025-05-28 10:19:59.747 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5093/api/Employee/2 - application/json 109
2025-05-28 10:19:59.749 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Update (Web)'
2025-05-28 10:19:59.750 +03:00 [INF] Route matched with {action = "Update", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Update(Int32, Domain.Dtos.EmployeeDto.UpdateEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:19:59.806 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:19:59.807 +03:00 [INF] Executed action Web.Controller.EmployeeController.Update (Web) in 25.4785ms
2025-05-28 10:19:59.808 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Update (Web)'
2025-05-28 10:19:59.810 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5093/api/Employee/2 - 200 null application/json; charset=utf-8 63.0169ms
2025-05-28 10:20:08.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-28 10:20:08.886 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:20:08.887 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:20:08.896 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:20:08.897 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 9.5964ms
2025-05-28 10:20:08.908 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:20:08.908 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 24.1042ms
2025-05-28 10:20:22.701 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 37
2025-05-28 10:20:22.703 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:20:22.708 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:20:22.818 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:20:22.819 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 77.7494ms
2025-05-28 10:20:22.819 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-28 10:20:22.820 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 118.8411ms
2025-05-28 10:20:30.120 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 10:20:30.122 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:20:30.124 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:20:30.141 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:20:30.147 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 21.5432ms
2025-05-28 10:20:30.148 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:20:30.149 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 28.6832ms
2025-05-28 10:20:53.036 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/SubDepartment - application/json 66
2025-05-28 10:20:53.037 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-28 10:20:53.042 +03:00 [INF] Route matched with {action = "Create", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.SubDepartmentDto.AddSubDepartmentDto) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:20:53.093 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_ManagerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_ManagerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: SubDepartments
    ConstraintName: FK_SubDepartments_Employees_ManagerId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_ManagerId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_ManagerId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: SubDepartments
    ConstraintName: FK_SubDepartments_Employees_ManagerId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 10:20:53.118 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-28 10:20:53.119 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:20:53.120 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.Create (Web) in 74.4978ms
2025-05-28 10:20:53.120 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-28 10:20:53.121 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 84.9697ms
2025-05-28 10:20:58.507 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/SubDepartment - application/json 69
2025-05-28 10:20:58.508 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-28 10:20:58.510 +03:00 [INF] Route matched with {action = "Create", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.SubDepartmentDto.AddSubDepartmentDto) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:20:58.553 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:20:58.556 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.Create (Web) in 44.4874ms
2025-05-28 10:20:58.557 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-28 10:20:58.558 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 50.1841ms
2025-05-28 10:21:06.628 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-28 10:21:06.630 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:21:06.636 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:21:06.678 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:21:06.682 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 45.0698ms
2025-05-28 10:21:06.684 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:21:06.686 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 57.6119ms
2025-05-28 10:25:32.970 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/FixedAsset - application/json 163
2025-05-28 10:25:32.994 +03:00 [INF] Executing endpoint 'Web.Controller.FixedAssetController.Create (Web)'
2025-05-28 10:25:33.058 +03:00 [INF] Route matched with {action = "Create", controller = "FixedAsset"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.FixedAssetDto.AddFixedAssetDto) on controller Web.Controller.FixedAssetController (Web).
2025-05-28 10:25:33.088 +03:00 [INF] Executed action Web.Controller.FixedAssetController.Create (Web) in 27.3037ms
2025-05-28 10:25:33.091 +03:00 [INF] Executed endpoint 'Web.Controller.FixedAssetController.Create (Web)'
2025-05-28 10:25:33.104 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Infrastructure.Interfaces.IFixedAssetService' while attempting to activate 'Web.Controller.FixedAssetController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method445(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-28 10:25:33.178 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/FixedAsset - 500 null text/plain; charset=utf-8 210.2382ms
2025-05-28 10:26:34.260 +03:00 [INF] Application is shutting down...
2025-05-28 10:26:44.231 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-28 10:26:44.263 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 10:26:44.263 +03:00 [INF] Hosting environment: Development
2025-05-28 10:26:44.264 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-28 10:26:49.124 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/FixedAsset - application/json 163
2025-05-28 10:26:49.162 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 10:26:49.163 +03:00 [INF] Executing endpoint 'Web.Controller.FixedAssetController.Create (Web)'
2025-05-28 10:26:49.185 +03:00 [INF] Route matched with {action = "Create", controller = "FixedAsset"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.FixedAssetDto.AddFixedAssetDto) on controller Web.Controller.FixedAssetController (Web).
2025-05-28 10:26:50.401 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:26:50.420 +03:00 [INF] Executed action Web.Controller.FixedAssetController.Create (Web) in 1231.3727ms
2025-05-28 10:26:50.425 +03:00 [INF] Executed endpoint 'Web.Controller.FixedAssetController.Create (Web)'
2025-05-28 10:26:50.433 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/FixedAsset - 200 null application/json; charset=utf-8 1312.5797ms
2025-05-28 10:27:18.632 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/InventoryItem - application/json 134
2025-05-28 10:27:18.640 +03:00 [INF] Executing endpoint 'Web.Controller.InventoryItemController.Create (Web)'
2025-05-28 10:27:18.658 +03:00 [INF] Route matched with {action = "Create", controller = "InventoryItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.InventoryItem.AddInventoryItemDto) on controller Web.Controller.InventoryItemController (Web).
2025-05-28 10:27:18.748 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:27:18.749 +03:00 [INF] Executed action Web.Controller.InventoryItemController.Create (Web) in 90.2712ms
2025-05-28 10:27:18.750 +03:00 [INF] Executed endpoint 'Web.Controller.InventoryItemController.Create (Web)'
2025-05-28 10:27:18.751 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/InventoryItem - 200 null application/json; charset=utf-8 119.7568ms
2025-05-28 10:27:31.432 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-28 10:27:31.441 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:27:31.453 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:27:31.754 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-28 10:27:31.833 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:27:31.853 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 397.8159ms
2025-05-28 10:27:31.857 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:27:31.858 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 425.0625ms
2025-05-28 10:27:46.843 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 10:27:46.846 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:27:46.874 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:27:46.924 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:27:46.930 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 54.286ms
2025-05-28 10:27:46.932 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:27:46.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 89.889ms
2025-05-28 10:29:06.954 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-28 10:29:06.984 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:29:07.024 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:29:07.132 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:29:07.140 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 114.978ms
2025-05-28 10:29:07.141 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:29:07.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 189.6588ms
2025-05-28 10:29:44.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 10:29:44.634 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:29:44.635 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:29:44.655 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:29:44.656 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 18.4559ms
2025-05-28 10:29:44.658 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:29:44.659 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 27.2176ms
2025-05-28 10:29:54.440 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5093/api/SubDepartment/2 - application/json 76
2025-05-28 10:29:54.442 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.Update (Web)'
2025-05-28 10:29:54.450 +03:00 [INF] Route matched with {action = "Update", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Update(Int32, Domain.Dtos.SubDepartmentDto.UpdateSubDepartmentDto) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:29:54.573 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:29:54.574 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.Update (Web) in 98.7628ms
2025-05-28 10:29:54.575 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.Update (Web)'
2025-05-28 10:29:54.575 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5093/api/SubDepartment/2 - 200 null application/json; charset=utf-8 135.2523ms
2025-05-28 10:30:05.441 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-28 10:30:05.443 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:30:05.444 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:30:05.454 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:30:05.455 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 7.7803ms
2025-05-28 10:30:05.467 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:30:05.469 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 27.1259ms
2025-05-28 10:33:04.670 +03:00 [INF] Application is shutting down...
2025-05-28 10:33:17.681 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-28 10:33:17.734 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 10:33:17.738 +03:00 [INF] Hosting environment: Development
2025-05-28 10:33:17.752 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-28 10:33:21.712 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-28 10:33:21.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 135.9378ms
2025-05-28 10:33:29.821 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-28 10:33:29.860 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 10:33:29.874 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:33:29.901 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 10:33:31.555 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:33:31.645 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 1739.3898ms
2025-05-28 10:33:31.646 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 10:33:31.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 1833.5392ms
2025-05-28 10:33:58.195 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Position - null null
2025-05-28 10:33:58.199 +03:00 [INF] Executing endpoint 'Web.Controller.PositionController.GetAll (Web)'
2025-05-28 10:33:58.232 +03:00 [INF] Route matched with {action = "GetAll", controller = "Position"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.PositionDto.GetPositionDto]]] GetAll(Domain.Filter.PositionFilter) on controller Web.Controller.PositionController (Web).
2025-05-28 10:33:58.290 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.PositionDto.GetPositionDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:33:58.297 +03:00 [INF] Executed action Web.Controller.PositionController.GetAll (Web) in 62.8802ms
2025-05-28 10:33:58.298 +03:00 [INF] Executed endpoint 'Web.Controller.PositionController.GetAll (Web)'
2025-05-28 10:33:58.299 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Position - 200 null application/json; charset=utf-8 103.7377ms
2025-05-28 10:34:08.069 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-28 10:34:08.072 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:34:08.077 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-28 10:34:08.165 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-28 10:34:08.212 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:34:08.217 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 117.0085ms
2025-05-28 10:34:08.218 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 10:34:08.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 151.3022ms
2025-05-28 10:34:20.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 10:34:20.799 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:34:20.802 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 10:34:20.849 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:34:20.852 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 48.7597ms
2025-05-28 10:34:20.853 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 10:34:20.854 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 56.6071ms
2025-05-28 11:57:58.077 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-28 11:57:58.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 335.9043ms
2025-05-28 11:58:00.918 +03:00 [INF] Application is shutting down...
2025-05-28 11:58:18.178 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-28 11:58:18.225 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 11:58:18.226 +03:00 [INF] Hosting environment: Development
2025-05-28 11:58:18.227 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-28 11:58:24.823 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-28 11:58:25.035 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.2853ms
2025-05-28 11:58:28.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 11:58:28.690 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 11:58:28.694 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 11:58:28.718 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 11:58:30.296 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 11:58:30.368 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 1645.9817ms
2025-05-28 11:58:30.369 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 11:58:30.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 1724.6696ms
2025-05-28 11:58:39.010 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-28 11:58:39.014 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 11:58:39.032 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-28 11:58:39.090 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-28 11:58:39.177 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 11:58:39.189 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 155.7069ms
2025-05-28 11:58:39.190 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 11:58:39.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 181.0086ms
2025-05-28 11:58:54.079 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/FixedAsset - null null
2025-05-28 11:58:54.082 +03:00 [INF] Executing endpoint 'Web.Controller.FixedAssetController.GetAll (Web)'
2025-05-28 11:58:54.087 +03:00 [INF] Route matched with {action = "GetAll", controller = "FixedAsset"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.FixedAssetDto.GetFixedAssetDto]]] GetAll(Domain.Filter.FixedAssetFilter) on controller Web.Controller.FixedAssetController (Web).
2025-05-28 11:58:54.177 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.FixedAssetDto.GetFixedAssetDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 11:58:54.180 +03:00 [INF] Executed action Web.Controller.FixedAssetController.GetAll (Web) in 80.7575ms
2025-05-28 11:58:54.181 +03:00 [INF] Executed endpoint 'Web.Controller.FixedAssetController.GetAll (Web)'
2025-05-28 11:58:54.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/FixedAsset - 200 null application/json; charset=utf-8 102.8925ms
2025-05-28 11:59:02.470 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-28 11:59:02.473 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 11:59:02.506 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 11:59:02.533 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 11:59:02.535 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 28.7579ms
2025-05-28 11:59:02.536 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 11:59:02.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 66.7289ms
2025-05-28 12:00:47.011 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-28 12:00:47.022 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 12:00:47.026 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-28 12:00:47.049 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 12:00:47.052 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 24.4262ms
2025-05-28 12:00:47.053 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-28 12:00:47.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 43.4553ms
2025-05-28 12:01:05.493 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-28 12:01:05.495 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 12:01:05.498 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-28 12:01:05.519 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 12:01:05.528 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 14.4845ms
2025-05-28 12:01:05.532 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-28 12:01:05.533 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 39.8628ms
2025-05-28 12:01:45.409 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Position - null null
2025-05-28 12:01:45.413 +03:00 [INF] Executing endpoint 'Web.Controller.PositionController.GetAll (Web)'
2025-05-28 12:01:45.451 +03:00 [INF] Route matched with {action = "GetAll", controller = "Position"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.PositionDto.GetPositionDto]]] GetAll(Domain.Filter.PositionFilter) on controller Web.Controller.PositionController (Web).
2025-05-28 12:01:45.523 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.PositionDto.GetPositionDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 12:01:45.533 +03:00 [INF] Executed action Web.Controller.PositionController.GetAll (Web) in 79.5574ms
2025-05-28 12:01:45.535 +03:00 [INF] Executed endpoint 'Web.Controller.PositionController.GetAll (Web)'
2025-05-28 12:01:45.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Position - 200 null application/json; charset=utf-8 128.3154ms
2025-05-28 12:02:07.969 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-28 12:02:07.971 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 12:02:07.972 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-28 12:02:07.992 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 12:02:08.001 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 26.3205ms
2025-05-28 12:02:08.006 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-28 12:02:08.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 38.7258ms
2025-05-28 12:08:58.078 +03:00 [INF] Application is shutting down...
2025-05-29 15:55:47.516 +03:00 [ERR] An error occurred using the connection to database 'InvenTrack_Db' on server 'tcp://localhost:5432'.
2025-05-29 15:55:48.404 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-29 15:55:48.418 +03:00 [INF] Applying migration '20250529125530_Initial'.
2025-05-29 15:56:00.934 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-29 15:56:00.967 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 15:56:00.967 +03:00 [INF] Hosting environment: Development
2025-05-29 15:56:00.968 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-29 15:56:07.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/ - null null
2025-05-29 15:56:07.097 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-29 15:56:07.106 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/ - 404 0 null 52.9206ms
2025-05-29 15:56:07.124 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/, Response status code: 404
2025-05-29 15:56:11.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/index.html - null null
2025-05-29 15:56:11.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/index.html - 200 null text/html;charset=utf-8 109.5387ms
2025-05-29 15:56:11.212 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui.css - null null
2025-05-29 15:56:11.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-bundle.js - null null
2025-05-29 15:56:11.226 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/index.css - null null
2025-05-29 15:56:11.235 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-standalone-preset.js - null null
2025-05-29 15:56:11.255 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-05-29 15:56:11.235 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/index.js - null null
2025-05-29 15:56:11.255 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-29 15:56:11.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/index.css - 200 202 text/css 29.7707ms
2025-05-29 15:56:11.259 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/index.js - 200 null application/javascript;charset=utf-8 24.1837ms
2025-05-29 15:56:11.262 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui.css - 200 154949 text/css 50.2489ms
2025-05-29 15:56:11.263 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-29 15:56:11.267 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 32.2542ms
2025-05-29 15:56:11.291 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-29 15:56:11.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/swagger-ui-bundle.js - 200 1484234 text/javascript 76.0373ms
2025-05-29 15:56:11.601 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-29 15:56:11.770 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.4111ms
2025-05-29 15:56:16.711 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-29 15:56:16.743 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint Web.Controller.DepartmentController.GetAll (Web) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-29 15:56:16.775 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 500 null text/plain; charset=utf-8 64.0108ms
2025-05-29 16:01:10.563 +03:00 [INF] Application is shutting down...
2025-05-29 16:01:20.612 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-29 16:01:20.644 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:01:20.644 +03:00 [INF] Hosting environment: Development
2025-05-29 16:01:20.645 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-29 16:02:02.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-29 16:02:03.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 355.2083ms
2025-05-29 16:02:23.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-29 16:02:23.145 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-29 16:02:23.158 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-29 16:02:23.165 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-29 16:02:23.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 500 null text/plain; charset=utf-8 149.5806ms
2025-05-29 16:02:53.699 +03:00 [INF] Application is shutting down...
2025-05-29 16:03:35.883 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-29 16:03:36.067 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:03:36.107 +03:00 [INF] Hosting environment: Development
2025-05-29 16:03:36.149 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-29 16:03:40.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-29 16:03:40.731 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 376.1063ms
2025-05-29 16:04:35.081 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 37
2025-05-29 16:04:35.135 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-29 16:04:35.145 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-29 16:04:35.151 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-29 16:04:35.183 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 500 null text/plain; charset=utf-8 103.0329ms
2025-05-29 16:04:41.157 +03:00 [INF] Application is shutting down...
2025-05-29 16:05:28.328 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-29 16:05:28.378 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:05:28.382 +03:00 [INF] Hosting environment: Development
2025-05-29 16:05:28.383 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-29 16:05:43.316 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 37
2025-05-29 16:05:43.372 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-29 16:05:43.376 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-29 16:05:43.413 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-29 16:05:46.703 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Departments" нарушает ограничение внешнего ключа "FK_Departments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Departments
    ConstraintName: FK_Departments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-29 16:05:46.732 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-29 16:05:46.744 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:05:46.781 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 3360.0483ms
2025-05-29 16:05:46.787 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-29 16:05:46.805 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 3494.8489ms
2025-05-29 16:05:54.301 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 40
2025-05-29 16:05:54.310 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-29 16:05:54.320 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-29 16:05:54.495 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:05:54.499 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 166.1877ms
2025-05-29 16:05:54.501 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-29 16:05:54.503 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 203.1567ms
2025-05-29 16:07:33.933 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-29 16:07:33.983 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-29 16:07:34.029 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-29 16:07:34.682 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:07:34.740 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 707.8327ms
2025-05-29 16:07:34.745 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-29 16:07:34.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 815.4816ms
2025-05-29 16:07:50.938 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/SubDepartment - application/json 69
2025-05-29 16:07:50.947 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-29 16:07:50.958 +03:00 [INF] Route matched with {action = "Create", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.SubDepartmentDto.AddSubDepartmentDto) on controller Web.Controller.SubDepartmentController (Web).
2025-05-29 16:07:51.038 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:07:51.039 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.Create (Web) in 67.6871ms
2025-05-29 16:07:51.042 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-29 16:07:51.044 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 105.7032ms
2025-05-29 16:07:58.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-29 16:07:58.595 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-29 16:07:58.601 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-29 16:07:58.655 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:07:58.665 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 62.3238ms
2025-05-29 16:07:58.667 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-29 16:07:58.668 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 109.7342ms
2025-05-29 16:08:30.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Position - application/json 18
2025-05-29 16:08:30.602 +03:00 [INF] Executing endpoint 'Web.Controller.PositionController.Create (Web)'
2025-05-29 16:08:30.609 +03:00 [INF] Route matched with {action = "Create", controller = "Position"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.PositionDto.AddPositionDto) on controller Web.Controller.PositionController (Web).
2025-05-29 16:08:30.693 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:08:30.694 +03:00 [INF] Executed action Web.Controller.PositionController.Create (Web) in 41.2135ms
2025-05-29 16:08:30.695 +03:00 [INF] Executed endpoint 'Web.Controller.PositionController.Create (Web)'
2025-05-29 16:08:30.697 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Position - 200 null application/json; charset=utf-8 99.2048ms
2025-05-29 16:08:36.040 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - multipart/form-data; boundary=----WebKitFormBoundarytGMIDigsFDAGKR84 542
2025-05-29 16:08:36.048 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-29 16:08:36.075 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-29 16:08:36.166 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-29 16:08:36.168 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 89.4205ms
2025-05-29 16:08:36.173 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-29 16:08:36.173 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 133.1649ms
2025-05-29 16:28:45.629 +03:00 [INF] Application is shutting down...
2025-05-30 09:28:14.145 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-30 09:28:14.184 +03:00 [INF] Applying migration '20250530062753_Initial2'.
2025-05-30 09:28:28.193 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 09:28:28.226 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:28:28.228 +03:00 [INF] Hosting environment: Development
2025-05-30 09:28:28.229 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 09:28:33.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/ - null null
2025-05-30 09:28:33.310 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 09:28:33.323 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/ - 404 0 null 70.1139ms
2025-05-30 09:28:33.336 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/, Response status code: 404
2025-05-30 09:28:37.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 09:28:38.124 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 385.7901ms
2025-05-30 09:29:26.796 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/register - application/json 172
2025-05-30 09:29:26.831 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 09:29:26.877 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.Dtos.AccountDto.RegisterDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:29:26.888 +03:00 [INF] Executed action Web.Controller.AuthController.Register (Web) in 5.2692ms
2025-05-30 09:29:26.889 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 09:29:26.892 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Infrastructure.Interfaces.IAuthService' while attempting to activate 'Web.Controller.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 09:29:26.943 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/register - 500 null text/plain; charset=utf-8 146.501ms
2025-05-30 09:30:20.008 +03:00 [INF] Application is shutting down...
2025-05-30 09:31:25.886 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 09:31:25.945 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:31:25.947 +03:00 [INF] Hosting environment: Development
2025-05-30 09:31:25.948 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 09:31:31.182 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/register - application/json 172
2025-05-30 09:31:31.223 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 09:31:31.229 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 09:31:31.252 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.Dtos.AccountDto.RegisterDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:31:34.023 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "FirstName" отношения "Accounts" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "FirstName" отношения "Accounts" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Accounts
    ColumnName: FirstName
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "FirstName" отношения "Accounts" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "FirstName" отношения "Accounts" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Accounts
    ColumnName: FirstName
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-30 09:31:34.088 +03:00 [INF] Executed action Web.Controller.AuthController.Register (Web) in 2831.3749ms
2025-05-30 09:31:34.095 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 09:31:34.100 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "FirstName" отношения "Accounts" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "FirstName" отношения "Accounts" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Accounts
    ColumnName: FirstName
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infrastructure.Services.AuthService.RegisterAsync(RegisterDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 32
   at Web.Controller.AuthController.Register(RegisterDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 14
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 09:31:34.188 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/register - 500 null text/plain; charset=utf-8 3008.5458ms
2025-05-30 09:33:49.467 +03:00 [INF] Application is shutting down...
2025-05-30 09:34:04.708 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 09:34:04.742 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:34:04.743 +03:00 [INF] Hosting environment: Development
2025-05-30 09:34:04.745 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 09:34:11.569 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/ - null null
2025-05-30 09:34:11.715 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 09:34:11.725 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/ - 404 0 null 161.7535ms
2025-05-30 09:34:11.770 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/, Response status code: 404
2025-05-30 09:34:15.096 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/register - application/json 172
2025-05-30 09:34:15.111 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 09:34:15.219 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.Dtos.AccountDto.RegisterDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:34:18.148 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 09:34:18.173 +03:00 [INF] Executed action Web.Controller.AuthController.Register (Web) in 2943.0784ms
2025-05-30 09:34:18.174 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 09:34:18.187 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/register - 201 null application/json; charset=utf-8 3092.0527ms
2025-05-30 09:35:02.790 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 60
2025-05-30 09:35:02.830 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:35:02.843 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:35:03.431 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 586.6534ms
2025-05-30 09:35:03.433 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:35:03.443 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Infrastructure.Services.JwtTokenGenerator.GenerateToken(Account account) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Extensions\JwtTokenGenerator.cs:line 22
   at Infrastructure.Services.AuthService.LoginAsync(String username, String password) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 52
   at Web.Controller.AuthController.Login(LoginDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 09:35:03.660 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 500 null text/plain; charset=utf-8 870.4261ms
2025-05-30 09:49:23.007 +03:00 [INF] Application is shutting down...
2025-05-30 09:49:56.476 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 09:49:56.537 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:49:56.538 +03:00 [INF] Hosting environment: Development
2025-05-30 09:49:56.539 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 09:50:06.736 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 60
2025-05-30 09:50:06.810 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 09:50:06.822 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:50:06.857 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:50:09.758 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 2895.4036ms
2025-05-30 09:50:09.768 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:50:09.774 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Infrastructure.Services.JwtTokenGenerator.GenerateToken(Account account) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Extensions\JwtTokenGenerator.cs:line 22
   at Infrastructure.Services.AuthService.LoginAsync(String username, String password) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 48
   at Web.Controller.AuthController.Login(LoginDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 09:50:09.897 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 500 null text/plain; charset=utf-8 3172.7719ms
2025-05-30 09:53:31.430 +03:00 [INF] Application is shutting down...
2025-05-30 09:56:08.739 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 09:56:08.776 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:56:08.777 +03:00 [INF] Hosting environment: Development
2025-05-30 09:56:08.778 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 09:56:11.842 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 60
2025-05-30 09:56:11.942 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 09:56:11.963 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:56:12.000 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:56:14.087 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 2072.8382ms
2025-05-30 09:56:14.092 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:56:14.095 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: JwtSettings:SecretKey is not configured.
   at Infrastructure.Services.JwtTokenGenerator.GenerateToken(Account account) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Extensions\JwtTokenGenerator.cs:line 26
   at Infrastructure.Services.AuthService.LoginAsync(String username, String password) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 69
   at Web.Controller.AuthController.Login(LoginDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 09:56:14.159 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 500 null text/plain; charset=utf-8 2321.2637ms
2025-05-30 09:58:24.889 +03:00 [INF] Application is shutting down...
2025-05-30 09:58:38.546 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 09:58:38.599 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:58:38.603 +03:00 [INF] Hosting environment: Development
2025-05-30 09:58:38.604 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 09:58:42.896 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 60
2025-05-30 09:58:42.943 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 09:58:42.949 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:58:42.978 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 09:58:45.091 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 09:58:45.112 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 2128.7554ms
2025-05-30 09:58:45.118 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 09:58:45.128 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 200 null application/json; charset=utf-8 2236.5019ms
2025-05-30 10:07:17.729 +03:00 [INF] Application is shutting down...
2025-05-30 10:19:36.610 +03:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 10:19:36.855 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:19:36.861 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:19:36.862 +03:00 [INF] Hosting environment: Development
2025-05-30 10:19:36.862 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:24:04.338 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 10:24:04.811 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 488.818ms
2025-05-30 10:24:41.026 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/register - application/json 167
2025-05-30 10:24:41.082 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 10:24:41.226 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 10:24:41.284 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.Dtos.AccountDto.RegisterDto) on controller Web.Controller.AuthController (Web).
2025-05-30 10:24:44.194 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:24:44.219 +03:00 [INF] Executed action Web.Controller.AuthController.Register (Web) in 2930.3659ms
2025-05-30 10:24:44.220 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 10:24:44.229 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/register - 409 null application/json; charset=utf-8 3203.0082ms
2025-05-30 10:24:57.153 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/register - application/json 166
2025-05-30 10:24:57.159 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 10:24:57.161 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.Dtos.AccountDto.RegisterDto) on controller Web.Controller.AuthController (Web).
2025-05-30 10:24:57.744 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "ConfirmPasswordHash" отношения "Accounts" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "ConfirmPasswordHash" отношения "Accounts" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Accounts
    ColumnName: ConfirmPasswordHash
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "ConfirmPasswordHash" отношения "Accounts" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "ConfirmPasswordHash" отношения "Accounts" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Accounts
    ColumnName: ConfirmPasswordHash
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-30 10:24:57.762 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:24:57.765 +03:00 [INF] Executed action Web.Controller.AuthController.Register (Web) in 602.7154ms
2025-05-30 10:24:57.767 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 10:24:57.769 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/register - 400 null application/json; charset=utf-8 615.7216ms
2025-05-30 10:26:11.983 +03:00 [INF] Application is shutting down...
2025-05-30 10:26:21.904 +03:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 10:26:22.049 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:26:22.056 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:26:22.058 +03:00 [INF] Hosting environment: Development
2025-05-30 10:26:22.058 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:26:52.692 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/register - application/json 166
2025-05-30 10:26:52.749 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 10:26:52.775 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 10:26:52.806 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Domain.Dtos.AccountDto.RegisterDto) on controller Web.Controller.AuthController (Web).
2025-05-30 10:26:55.149 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:26:55.184 +03:00 [INF] Executed action Web.Controller.AuthController.Register (Web) in 2371.3788ms
2025-05-30 10:26:55.191 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Register (Web)'
2025-05-30 10:26:55.205 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/register - 201 null application/json; charset=utf-8 2514.3745ms
2025-05-30 10:27:15.832 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 55
2025-05-30 10:27:15.841 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 10:27:15.859 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 10:27:16.335 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 473.3695ms
2025-05-30 10:27:16.337 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 10:27:16.338 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Jwt:Key is not configured in appsettings.json.
   at Infrastructure.Services.JwtTokenGenerator.GenerateToken(Account account) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Extensions\JwtTokenGenerator.cs:line 26
   at Infrastructure.Services.AuthService.LoginAsync(String username, String password) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 70
   at Web.Controller.AuthController.Login(LoginDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 10:27:16.408 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 500 null text/plain; charset=utf-8 576.3093ms
2025-05-30 10:28:46.259 +03:00 [INF] Application is shutting down...
2025-05-30 10:29:28.605 +03:00 [INF] User profile is available. Using 'C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 10:29:28.730 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:29:28.733 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:29:28.734 +03:00 [INF] Hosting environment: Development
2025-05-30 10:29:28.734 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:29:56.681 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 55
2025-05-30 10:29:56.721 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 10:29:56.748 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 10:29:56.770 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 10:29:59.107 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 2330.516ms
2025-05-30 10:29:59.113 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 10:29:59.116 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Jwt:Key is not configured in appsettings.json.
   at Infrastructure.Services.JwtTokenGenerator.GenerateToken(Account account) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Extensions\JwtTokenGenerator.cs:line 26
   at Infrastructure.Services.AuthService.LoginAsync(String username, String password) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 70
   at Web.Controller.AuthController.Login(LoginDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 10:29:59.213 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 500 null text/plain; charset=utf-8 2528.59ms
2025-05-30 10:30:09.542 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Auth/login - application/json 55
2025-05-30 10:30:09.550 +03:00 [INF] Executing endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 10:30:09.570 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Domain.Dtos.AccountDto.LoginDto) on controller Web.Controller.AuthController (Web).
2025-05-30 10:30:09.862 +03:00 [INF] Executed action Web.Controller.AuthController.Login (Web) in 287.5535ms
2025-05-30 10:30:09.863 +03:00 [INF] Executed endpoint 'Web.Controller.AuthController.Login (Web)'
2025-05-30 10:30:09.864 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Jwt:Key is not configured in appsettings.json.
   at Infrastructure.Services.JwtTokenGenerator.GenerateToken(Account account) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Extensions\JwtTokenGenerator.cs:line 26
   at Infrastructure.Services.AuthService.LoginAsync(String username, String password) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\AuthService.cs:line 70
   at Web.Controller.AuthController.Login(LoginDto dto) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 10:30:09.872 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Auth/login - 500 null text/plain; charset=utf-8 330.89ms
2025-05-30 10:43:05.651 +03:00 [INF] Application is shutting down...
2025-05-30 10:43:19.862 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:43:19.907 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:43:19.909 +03:00 [INF] Hosting environment: Development
2025-05-30 10:43:19.909 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:43:25.931 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 10:43:25.951 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at lambda_method1(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 10:43:25.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 57.9688ms
2025-05-30 10:44:12.087 +03:00 [INF] Application is shutting down...
2025-05-30 10:44:22.704 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:44:22.741 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:44:22.743 +03:00 [INF] Hosting environment: Development
2025-05-30 10:44:22.744 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:44:32.692 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 10:44:32.702 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at lambda_method1(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 10:44:32.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 62.3395ms
2025-05-30 10:45:44.056 +03:00 [INF] Application is shutting down...
2025-05-30 10:45:54.701 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:45:54.745 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:45:54.747 +03:00 [INF] Hosting environment: Development
2025-05-30 10:45:54.777 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:46:01.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 10:46:01.505 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at lambda_method1(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 10:46:01.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 44.093ms
2025-05-30 10:47:45.704 +03:00 [INF] Application is shutting down...
2025-05-30 10:48:38.025 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:48:38.063 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:48:38.065 +03:00 [INF] Hosting environment: Development
2025-05-30 10:48:38.065 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:48:41.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 10:48:41.924 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.1013ms
2025-05-30 10:49:29.913 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/AssetTransaction - application/json 177
2025-05-30 10:49:29.976 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 10:49:29.980 +03:00 [INF] Executing endpoint 'Web.Controller.AssetTransactionController.Create (Web)'
2025-05-30 10:49:30.006 +03:00 [INF] Route matched with {action = "Create", controller = "AssetTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AssetTransactionDto.AddAssetTransactionDto) on controller Web.Controller.AssetTransactionController (Web).
2025-05-30 10:49:31.850 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: AssetTransactions
    ConstraintName: FK_AssetTransactions_Assets_FixedAssetId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: AssetTransactions
    ConstraintName: FK_AssetTransactions_Assets_FixedAssetId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-30 10:49:31.864 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-30 10:49:31.872 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:49:31.889 +03:00 [INF] Executed action Web.Controller.AssetTransactionController.Create (Web) in 1879.7056ms
2025-05-30 10:49:31.890 +03:00 [INF] Executed endpoint 'Web.Controller.AssetTransactionController.Create (Web)'
2025-05-30 10:49:31.899 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/AssetTransaction - 200 null application/json; charset=utf-8 1985.6145ms
2025-05-30 10:49:42.217 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - multipart/form-data; boundary=----WebKitFormBoundaryCAdEf1tdNkXjSO81 537
2025-05-30 10:49:42.255 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 10:49:42.267 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-30 10:49:42.405 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_Positions_PositionId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_Positions_PositionId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Employees
    ConstraintName: FK_Employees_Positions_PositionId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_Positions_PositionId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "Employees" нарушает ограничение внешнего ключа "FK_Employees_Positions_PositionId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Employees
    ConstraintName: FK_Employees_Positions_PositionId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-30 10:49:42.465 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-30 10:49:42.466 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:49:42.468 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 199.599ms
2025-05-30 10:49:42.469 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 10:49:42.474 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 256.2492ms
2025-05-30 10:49:50.484 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-30 10:49:50.486 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 10:49:50.490 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-30 10:49:50.809 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-30 10:49:50.887 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:49:50.902 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 410.4851ms
2025-05-30 10:49:50.903 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 10:49:50.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 419.9454ms
2025-05-30 10:50:00.152 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/AssetTransaction - application/json 177
2025-05-30 10:50:00.154 +03:00 [INF] Executing endpoint 'Web.Controller.AssetTransactionController.Create (Web)'
2025-05-30 10:50:00.155 +03:00 [INF] Route matched with {action = "Create", controller = "AssetTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AssetTransactionDto.AddAssetTransactionDto) on controller Web.Controller.AssetTransactionController (Web).
2025-05-30 10:50:00.169 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: AssetTransactions
    ConstraintName: FK_AssetTransactions_Assets_FixedAssetId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "AssetTransactions" нарушает ограничение внешнего ключа "FK_AssetTransactions_Assets_FixedAssetId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: AssetTransactions
    ConstraintName: FK_AssetTransactions_Assets_FixedAssetId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-30 10:50:00.211 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-30 10:50:00.212 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:50:00.213 +03:00 [INF] Executed action Web.Controller.AssetTransactionController.Create (Web) in 56.6304ms
2025-05-30 10:50:00.214 +03:00 [INF] Executed endpoint 'Web.Controller.AssetTransactionController.Create (Web)'
2025-05-30 10:50:00.214 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/AssetTransaction - 200 null application/json; charset=utf-8 62.5091ms
2025-05-30 10:50:13.458 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/FixedAsset - null null
2025-05-30 10:50:13.461 +03:00 [INF] Executing endpoint 'Web.Controller.FixedAssetController.GetAll (Web)'
2025-05-30 10:50:13.467 +03:00 [INF] Route matched with {action = "GetAll", controller = "FixedAsset"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.FixedAssetDto.GetFixedAssetDto]]] GetAll(Domain.Filter.FixedAssetFilter) on controller Web.Controller.FixedAssetController (Web).
2025-05-30 10:50:13.490 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.FixedAssetDto.GetFixedAssetDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:50:13.495 +03:00 [INF] Executed action Web.Controller.FixedAssetController.GetAll (Web) in 27.0267ms
2025-05-30 10:50:13.499 +03:00 [INF] Executed endpoint 'Web.Controller.FixedAssetController.GetAll (Web)'
2025-05-30 10:50:13.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/FixedAsset - 200 null application/json; charset=utf-8 41.7183ms
2025-05-30 10:50:31.829 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/FixedAsset - application/json 173
2025-05-30 10:50:31.832 +03:00 [INF] Executing endpoint 'Web.Controller.FixedAssetController.Create (Web)'
2025-05-30 10:50:31.842 +03:00 [INF] Route matched with {action = "Create", controller = "FixedAsset"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.FixedAssetDto.AddFixedAssetDto) on controller Web.Controller.FixedAssetController (Web).
2025-05-30 10:50:31.941 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:50:31.942 +03:00 [INF] Executed action Web.Controller.FixedAssetController.Create (Web) in 98.9929ms
2025-05-30 10:50:31.943 +03:00 [INF] Executed endpoint 'Web.Controller.FixedAssetController.Create (Web)'
2025-05-30 10:50:31.943 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/FixedAsset - 200 null application/json; charset=utf-8 114.9078ms
2025-05-30 10:50:36.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/FixedAsset - null null
2025-05-30 10:50:36.973 +03:00 [INF] Executing endpoint 'Web.Controller.FixedAssetController.GetAll (Web)'
2025-05-30 10:50:36.975 +03:00 [INF] Route matched with {action = "GetAll", controller = "FixedAsset"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.FixedAssetDto.GetFixedAssetDto]]] GetAll(Domain.Filter.FixedAssetFilter) on controller Web.Controller.FixedAssetController (Web).
2025-05-30 10:50:37.021 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.FixedAssetDto.GetFixedAssetDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:50:37.026 +03:00 [INF] Executed action Web.Controller.FixedAssetController.GetAll (Web) in 49.697ms
2025-05-30 10:50:37.028 +03:00 [INF] Executed endpoint 'Web.Controller.FixedAssetController.GetAll (Web)'
2025-05-30 10:50:37.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/FixedAsset - 200 null application/json; charset=utf-8 57.2354ms
2025-05-30 10:50:46.710 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/InventoryItem - application/json 141
2025-05-30 10:50:46.717 +03:00 [INF] Executing endpoint 'Web.Controller.InventoryItemController.Create (Web)'
2025-05-30 10:50:46.740 +03:00 [INF] Route matched with {action = "Create", controller = "InventoryItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.InventoryItem.AddInventoryItemDto) on controller Web.Controller.InventoryItemController (Web).
2025-05-30 10:50:46.762 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:50:46.763 +03:00 [INF] Executed action Web.Controller.InventoryItemController.Create (Web) in 21.5741ms
2025-05-30 10:50:46.764 +03:00 [INF] Executed endpoint 'Web.Controller.InventoryItemController.Create (Web)'
2025-05-30 10:50:46.764 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/InventoryItem - 200 null application/json; charset=utf-8 53.6965ms
2025-05-30 10:50:56.362 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/AssetTransaction - application/json 177
2025-05-30 10:50:56.364 +03:00 [INF] Executing endpoint 'Web.Controller.AssetTransactionController.Create (Web)'
2025-05-30 10:50:56.368 +03:00 [INF] Route matched with {action = "Create", controller = "AssetTransaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AssetTransactionDto.AddAssetTransactionDto) on controller Web.Controller.AssetTransactionController (Web).
2025-05-30 10:50:56.413 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:50:56.414 +03:00 [INF] Executed action Web.Controller.AssetTransactionController.Create (Web) in 45.1063ms
2025-05-30 10:50:56.415 +03:00 [INF] Executed endpoint 'Web.Controller.AssetTransactionController.Create (Web)'
2025-05-30 10:50:56.415 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/AssetTransaction - 200 null application/json; charset=utf-8 53.5185ms
2025-05-30 10:53:39.286 +03:00 [INF] Application is shutting down...
2025-05-30 10:57:04.419 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 10:57:04.487 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:57:04.488 +03:00 [INF] Hosting environment: Development
2025-05-30 10:57:04.489 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 10:57:13.200 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 10:57:13.425 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 227.2383ms
2025-05-30 10:57:23.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee?FullName=Said - null null
2025-05-30 10:57:23.043 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 10:57:23.046 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 10:57:23.071 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-30 10:57:24.021 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-30 10:57:24.664 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:57:24.708 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 1633.3008ms
2025-05-30 10:57:24.711 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 10:57:24.718 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee?FullName=Said - 200 null application/json; charset=utf-8 1711.6665ms
2025-05-30 10:57:46.822 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-30 10:57:46.829 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 10:57:46.843 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-30 10:57:46.898 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 10:57:46.902 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 56.2525ms
2025-05-30 10:57:46.902 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 10:57:46.903 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 81.3749ms
2025-05-30 11:17:24.329 +03:00 [INF] Application is shutting down...
2025-05-30 11:17:48.377 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 11:17:48.405 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:17:48.406 +03:00 [INF] Hosting environment: Development
2025-05-30 11:17:48.407 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 11:57:48.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/ - null null
2025-05-30 11:57:48.411 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 11:57:48.432 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/ - 404 0 null 232.0663ms
2025-05-30 11:57:48.457 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/, Response status code: 404
2025-05-30 11:58:27.432 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - multipart/form-data; boundary=----WebKitFormBoundaryU8xBm0jXAelobEs6 572333
2025-05-30 11:58:27.453 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 11:58:27.597 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-30 11:58:29.065 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 1462.9701ms
2025-05-30 11:58:29.067 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 11:58:29.072 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.DirectoryNotFoundException: Could not find a part of the path 'C:\Users\LENOVO\Desktop\InvenTrack\Web\uploads\profiles\16b7eb50-7fca-43b1-b229-34b55ca029e9.jpg'.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode)
   at Infrastructure.Services.EmployeeService.CreateAsync(AddEmployeeDto request) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\EmployeeService.cs:line 111
   at Web.Controller.EmployeeController.Create(AddEmployeeDto request) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\EmployeeController.cs:line 23
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 11:58:29.191 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 500 null text/plain; charset=utf-8 1760.5476ms
2025-05-30 11:59:54.775 +03:00 [INF] Application is shutting down...
2025-05-30 12:00:39.417 +03:00 [ERR] An error occurred using the connection to database 'InvenTrack_Db1' on server 'tcp://localhost:5432'.
2025-05-30 12:00:40.522 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-30 12:00:40.538 +03:00 [INF] Applying migration '20250530090019_Initial2'.
2025-05-30 12:01:12.191 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 12:01:12.392 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:01:12.406 +03:00 [INF] Hosting environment: Development
2025-05-30 12:01:12.411 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 12:01:15.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/ - null null
2025-05-30 12:01:15.315 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 12:01:15.329 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/ - 404 0 null 139.0877ms
2025-05-30 12:01:15.445 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5093/, Response status code: 404
2025-05-30 12:01:19.520 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - null null
2025-05-30 12:01:19.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 243.6656ms
2025-05-30 12:01:52.146 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Position - application/json 18
2025-05-30 12:01:52.163 +03:00 [INF] Executing endpoint 'Web.Controller.PositionController.Create (Web)'
2025-05-30 12:01:52.198 +03:00 [INF] Route matched with {action = "Create", controller = "Position"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.PositionDto.AddPositionDto) on controller Web.Controller.PositionController (Web).
2025-05-30 12:01:53.803 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:01:53.834 +03:00 [INF] Executed action Web.Controller.PositionController.Create (Web) in 1625.1972ms
2025-05-30 12:01:53.841 +03:00 [INF] Executed endpoint 'Web.Controller.PositionController.Create (Web)'
2025-05-30 12:01:53.853 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Position - 200 null application/json; charset=utf-8 1707.7438ms
2025-05-30 12:02:21.353 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Department - application/json 40
2025-05-30 12:02:21.370 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-30 12:02:21.399 +03:00 [INF] Route matched with {action = "Create", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.AddDepartmentDto) on controller Web.Controller.DepartmentController (Web).
2025-05-30 12:02:21.596 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:02:21.598 +03:00 [INF] Executed action Web.Controller.DepartmentController.Create (Web) in 197.338ms
2025-05-30 12:02:21.600 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.Create (Web)'
2025-05-30 12:02:21.601 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 250.2214ms
2025-05-30 12:02:31.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Department - null null
2025-05-30 12:02:31.522 +03:00 [INF] Executing endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-30 12:02:31.542 +03:00 [INF] Route matched with {action = "GetAll", controller = "Department"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.DepartmentDto.GetDepartmentDto]]] GetAll(Domain.Filter.DepartmentFilter) on controller Web.Controller.DepartmentController (Web).
2025-05-30 12:02:31.892 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.DepartmentDto.GetDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:02:31.908 +03:00 [INF] Executed action Web.Controller.DepartmentController.GetAll (Web) in 363.144ms
2025-05-30 12:02:31.909 +03:00 [INF] Executed endpoint 'Web.Controller.DepartmentController.GetAll (Web)'
2025-05-30 12:02:31.910 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Department - 200 null application/json; charset=utf-8 397.4556ms
2025-05-30 12:02:54.387 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/SubDepartment - application/json 66
2025-05-30 12:02:54.390 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-30 12:02:54.394 +03:00 [INF] Route matched with {action = "Create", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.SubDepartmentDto.AddSubDepartmentDto) on controller Web.Controller.SubDepartmentController (Web).
2025-05-30 12:02:54.536 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: SubDepartments
    ConstraintName: FK_SubDepartments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_EmployeeId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "SubDepartments" нарушает ограничение внешнего ключа "FK_SubDepartments_Employees_EmployeeId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: SubDepartments
    ConstraintName: FK_SubDepartments_Employees_EmployeeId
    File: ri_triggers.c
    Line: 2610
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-30 12:02:54.712 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2025-05-30 12:02:54.713 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:02:54.715 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.Create (Web) in 318.7472ms
2025-05-30 12:02:54.716 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-30 12:02:54.717 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 329.4439ms
2025-05-30 12:03:04.076 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/SubDepartment - application/json 69
2025-05-30 12:03:04.079 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-30 12:03:04.081 +03:00 [INF] Route matched with {action = "Create", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.SubDepartmentDto.AddSubDepartmentDto) on controller Web.Controller.SubDepartmentController (Web).
2025-05-30 12:03:04.092 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:03:04.093 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.Create (Web) in 10.237ms
2025-05-30 12:03:04.094 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.Create (Web)'
2025-05-30 12:03:04.095 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 18.4291ms
2025-05-30 12:03:13.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-30 12:03:13.182 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 12:03:13.188 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-30 12:03:13.229 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:03:13.232 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 43.0707ms
2025-05-30 12:03:13.233 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 12:03:13.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 52.5894ms
2025-05-30 12:03:27.393 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - multipart/form-data; boundary=----WebKitFormBoundary6s4hZrgHfOTwmYpB 572340
2025-05-30 12:03:27.395 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 12:03:27.445 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-30 12:03:27.509 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 62.3556ms
2025-05-30 12:03:27.510 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 12:03:27.515 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.DirectoryNotFoundException: Could not find a part of the path 'C:\Users\LENOVO\Desktop\InvenTrack\Web\uploads\profiles\40f6d4c2-0610-4374-9349-3605b9ac9a66.jpg'.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize, Nullable`1 unixCreateMode)
   at System.IO.FileStream..ctor(String path, FileMode mode)
   at Infrastructure.Services.EmployeeService.CreateAsync(AddEmployeeDto request) in C:\Users\LENOVO\Desktop\InvenTrack\Infrastructure\Services\EmployeeService.cs:line 111
   at Web.Controller.EmployeeController.Create(AddEmployeeDto request) in C:\Users\LENOVO\Desktop\InvenTrack\Web\Controller\EmployeeController.cs:line 23
   at lambda_method303(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-30 12:03:27.646 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 500 null text/plain; charset=utf-8 253.0417ms
2025-05-30 12:05:40.028 +03:00 [INF] Application is shutting down...
2025-05-30 12:05:50.529 +03:00 [INF] Now listening on: http://localhost:5093
2025-05-30 12:05:50.568 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:05:50.569 +03:00 [INF] Hosting environment: Development
2025-05-30 12:05:50.570 +03:00 [INF] Content root path: C:\Users\LENOVO\Desktop\InvenTrack\Web
2025-05-30 12:06:03.059 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - multipart/form-data; boundary=----WebKitFormBoundarywxvglTWaaGbsI4Mk 572340
2025-05-30 12:06:03.124 +03:00 [WRN] Failed to determine the https port for redirect.
2025-05-30 12:06:03.128 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 12:06:03.159 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-30 12:06:04.904 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:06:04.978 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 1814.4609ms
2025-05-30 12:06:04.987 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 12:06:05.003 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 1946.5678ms
2025-05-30 12:06:21.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-30 12:06:21.614 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 12:06:21.635 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-30 12:06:22.515 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:06:22.573 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 932.9673ms
2025-05-30 12:06:22.575 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 12:06:22.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 1009.9585ms
2025-05-30 12:06:42.878 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee - null null
2025-05-30 12:06:42.884 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 12:06:42.908 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-30 12:06:42.978 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-30 12:06:43.024 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:06:43.027 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 111.0462ms
2025-05-30 12:06:43.028 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 12:06:43.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 151.0542ms
2025-05-30 13:06:05.863 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5093/api/Employee - multipart/form-data; boundary=----WebKitFormBoundaryD2QBDQW9Lc2rAPzs 572340
2025-05-30 13:06:05.936 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 13:06:05.962 +03:00 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.ApiResponse`1[System.String]] Create(Domain.Dtos.EmployeeDto.AddEmployeeDto) on controller Web.Controller.EmployeeController (Web).
2025-05-30 13:06:06.411 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.ApiResponse`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 13:06:06.420 +03:00 [INF] Executed action Web.Controller.EmployeeController.Create (Web) in 454.4857ms
2025-05-30 13:06:06.422 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.Create (Web)'
2025-05-30 13:06:06.425 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5093/api/Employee - 200 null application/json; charset=utf-8 569.9667ms
2025-05-30 13:06:34.689 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/SubDepartment - null null
2025-05-30 13:06:34.720 +03:00 [INF] Executing endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 13:06:34.729 +03:00 [INF] Route matched with {action = "GetAll", controller = "SubDepartment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto]]] GetAll(Domain.Filter.SubDepartmentFilter) on controller Web.Controller.SubDepartmentController (Web).
2025-05-30 13:06:34.881 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.SubDepartmentDto.GetSubDepartmentDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 13:06:34.890 +03:00 [INF] Executed action Web.Controller.SubDepartmentController.GetAll (Web) in 158.5648ms
2025-05-30 13:06:34.891 +03:00 [INF] Executed endpoint 'Web.Controller.SubDepartmentController.GetAll (Web)'
2025-05-30 13:06:34.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/SubDepartment - 200 null application/json; charset=utf-8 206.6074ms
2025-05-30 13:07:15.557 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5093/api/Employee?FullName=sai - null null
2025-05-30 13:07:15.571 +03:00 [INF] Executing endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 13:07:15.592 +03:00 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Infrastructure.Response.PaginationResponse`1[System.Collections.Generic.List`1[Domain.Dtos.EmployeeDto.GetEmployeeDto]]] GetAll(Domain.Filter.EmployeeFilter) on controller Web.Controller.EmployeeController (Web).
2025-05-30 13:07:15.830 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-30 13:07:15.905 +03:00 [INF] Executing ObjectResult, writing value of type 'Infrastructure.Response.PaginationResponse`1[[System.Collections.Generic.List`1[[Domain.Dtos.EmployeeDto.GetEmployeeDto, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 13:07:15.908 +03:00 [INF] Executed action Web.Controller.EmployeeController.GetAll (Web) in 314.1214ms
2025-05-30 13:07:15.908 +03:00 [INF] Executed endpoint 'Web.Controller.EmployeeController.GetAll (Web)'
2025-05-30 13:07:15.909 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5093/api/Employee?FullName=sai - 200 null application/json; charset=utf-8 352.6226ms
2025-05-30 13:11:26.623 +03:00 [INF] Application is shutting down...
